<!-- templates/header.html -->
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
/>

<nav class="navbar navbar-expand-lg navbar-dark bg-success px-4">
  <a class="navbar-brand fw-bold" href="/">LiveBoard</a>
  <div class="ms-auto d-flex align-items-center gap-3">
    <div id="username-container" class="text-white fw-semibold"></div>
    <div id="login_logout-container"></div>
  </div>
</nav>

<script>
  function getCookie(name) {
    const match = document.cookie.match(
      new RegExp("(^| )" + name + "=([^;]+)")
    );
    return match ? decodeURIComponent(match[2]) : null;
  }

  const username = getCookie("username");

  const username_container = document.getElementById("username-container");
  const login_logout_container = document.getElementById("login_logout-container");

  if (username) {
    username_container.innerHTML = `<span class="username">${username}</span>`;
    login_logout_container.innerHTML = `
        <a href="/logout" class="btn btn-outline-light btn-sm">Выйти</a>`;
  } else {
    login_logout_container.innerHTML = `
        <a href="/login" class="btn btn-light btn-sm">Войти</a>`;
  }
</script>
